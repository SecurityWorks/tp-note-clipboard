version = '1.7.0'
extension_default = 'md'
note_file_extensions = [
    'md',
    'markdown',
    'markdn',
    'mdown',
    'mdtxt',
]
tmpl_new_content = '''
---
title:      {{ path | stem | cut | json_encode }}
subtitle:   {{ 'Note' | json_encode }}
author:     {{ username | json_encode }}
date:       {{ now() | date(format='%Y-%m-%d') | json_encode }}
lang:       {{ get_env(name='LANG', default='') | json_encode }}
revision:   {{ '1.0' | json_encode }}
---


'''
tmpl_new_filename = '''{{ now() | date(format='%Y%m%d') }}-{{ fm_title | sanit(alpha=true) }}{% if fm_subtitle | default(value='') | sanit != '' %}--{% endif %}{{ fm_subtitle | default(value='') | sanit  }}{{ extension_default | prepend_dot }}'''
tmpl_copy_content = '''
---
title:      {{ fm_title | cut | json_encode }}
subtitle:   {{ fm_subtitle | default(value='') | cut | json_encode }}
author:     {{ fm_author | default(value=username) | json_encode }}
date:       {{ fm_date | default(value = now()|date(format='%Y-%m-%d')) | json_encode }}
lang:       {{ fm_lang | default(value = get_env(name='LANG', default='')) | json_encode }}
revision:   {{ fm_revision | default(value = '1.0') | json_encode }}
{% if fm_sort_tag %}sort_tag:   {{ fm_sort_tag | json_encode }}
{% endif %}{% if fm_file_ext %}file_ext:   {{ fm_file_ext | json_encode }}
{% endif %}---

{{ stdin ~ clipboard }}

'''
tmpl_copy_filename = '''{{ fm_sort_tag | default(value = now() | date(format='%Y%m%d-')) }}{{ fm_title | sanit(alpha=true) }}{% if fm_subtitle | default(value='') | sanit != '' %}--{% endif %}{{ fm_subtitle | default(value='') | sanit  }}{{ fm_file_ext | default(value = extension_default ) | prepend_dot }}'''
tmpl_clipboard_content = '''
---
{% if stdin ~ clipboard | linkname !='' %}title:      {{ stdin ~ clipboard | linkname | cut | json_encode }}
{% else %}title:      {{ stdin ~ clipboard | heading | cut | json_encode }}
{% endif %}{% if stdin ~ clipboard | linkname !='' and stdin ~ clipboard | heading == stdin ~ clipboard %}subtitle:   {{ 'URL' | json_encode }}
{% else %}subtitle:   {{ 'Note' | json_encode }}
{% endif %}author:     {{ username | json_encode }}
date:       {{ now() | date(format='%Y-%m-%d') | json_encode }}
lang:       {{ get_env(name='LANG', default='') | json_encode }}
revision:   {{ '1.0' | json_encode }}
---

{{ stdin ~ clipboard }}

'''
tmpl_clipboard_filename = '''{{ now() | date(format='%Y%m%d-') }}{{ fm_title | sanit(alpha=true) }}{% if fm_subtitle | default(value='') | sanit != '' %}--{% endif %}{{ fm_subtitle | default(value='') | sanit  }}{{ extension_default | prepend_dot }}'''
tmpl_annotate_content = '''
---
title:      {% filter json_encode %}{{ file | stem }}{{ file | ext | prepend_dot }}{% endfilter %}
{% if stdin ~ clipboard | linkname !='' and stdin ~ clipboard | heading == stdin ~ clipboard %}subtitle:   {{ 'URL' | json_encode }}
{% else %}subtitle:   {{ 'Note' | json_encode }}
{% endif %}author:     {{ username | json_encode }}
date:       {{ now() | date(format='%Y-%m-%d') | json_encode }}
lang:       {{ get_env(name='LANG', default='') | json_encode }}
revision:   {{ '1.0' | json_encode }}
---

[{{ file | tag }}{{ file | stem }}{{ file | ext | prepend_dot }}]({{ file | tag }}{{ file | stem }}{{ file | ext | prepend_dot }})
{% if stdin ~ clipboard != '' %}{% if stdin ~ clipboard != stdin ~ clipboard | heading %}
---
{% endif %}
{{ stdin ~ clipboard }}
{% endif %}
'''
tmpl_annotate_filename = '''{{ file | tag }}{{ fm_title | sanit(alpha=true) }}{% if fm_subtitle | default(value='') | sanit != '' %}--{% endif %}{{ fm_subtitle | default(value='') | sanit }}{{ extension_default | prepend_dot }}'''
tmpl_sync_filename = '''{{ fm_sort_tag | default(value = file | tag) }}{{ fm_title | sanit(alpha=true) }}{% if fm_subtitle | default(value='') | sanit != '' %}--{% endif %}{{ fm_subtitle | default(value='') | sanit  }}{{ fm_file_ext | default(value = file | ext) | prepend_dot }}'''
editor_args = [
    [
    'flatpak',
    'run',
    'com.github.marktext.marktext',
],
    [
    'marktext',
    '--no-sandbox',
],
    ['typora'],
    [
    'code',
    '-w',
    '-n',
],
    [
    'atom',
    '-w',
],
    ['retext'],
    [
    'geany',
    '-s',
    '-i',
    '-m',
],
    [
    'gedit',
    '-w',
],
    ['mousepad'],
    ['leafpad'],
    [
    'nvim-qt',
    '--nofork',
],
    [
    'gvim',
    '--nofork',
],
]
viewer_args = [
    [
    'marktext',
    '--no-sandbox',
],
    ['typora'],
    [
    'code',
    '-w',
    '-n',
],
    [
    'atom',
    '-w',
],
    ['retext'],
    [
    'geany',
    '-r',
    '-s',
    '-i',
    '-m',
],
    [
    'gedit',
    '-w',
],
    ['mousepad'],
    ['leafpad'],
    [
    'nvim-qt',
    '--nofork',
    '-R',
],
    [
    'gvim',
    '--nofork',
    '-R',
],
]
editor_console_args = [
    ['nano'],
    ['nvim'],
    ['vim'],
    ['vi'],
]
viewer_console_args = [
    [
    'nano',
    '-v',
],
    [
    'nvim',
    '-R',
],
    [
    'vim',
    '-R',
],
    [
    'vi',
    '-R',
],
]
enable_read_clipboard = true
enable_empty_clipboard = true
