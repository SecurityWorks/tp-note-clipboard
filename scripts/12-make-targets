# !/bin/sh
set -x

rustup target add x86_64-unknown-linux-gnu
rustup target add x86_64-unknown-linux-musl

# Musl Needs: `sudo apt install musl-tools` 
PKG_CONFIG_ALLOW_CROSS=1 cargo build \
 	--target x86_64-unknown-linux-gnu \
 	--target x86_64-unknown-linux-musl \
 	--release

# Supports RaspherryPi 2/3/4
# needs: `apt install crossbuild-essential-armhf`
rustup target add armv7-unknown-linux-gnueabihf
PKG_CONFIG_ALLOW_CROSS=1 cargo build \
	--target armv7-unknown-linux-gnueabihf \
	--release

